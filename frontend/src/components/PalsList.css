.pals-container {
    width: 100%;
    max-width: 2000px;
    margin: 0 auto;
    padding: 40px 100px;
    /* Further increased side padding */
    background: #FFFAD6;
}

.pals-container h2 {
    font-size: 2rem;
    margin-bottom: 30px;
    color: #333;
    text-align: center;
}

.error-message {
    color: #d32f2f;
    background-color: #ffebee;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 20px;
    text-align: center;
}

.no-pals {
    text-align: center;
    color: #999;
    font-size: 1.1rem;
    padding: 40px;
}

.pals-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 40px;
    /* Increased gap */
    width: 100%;
}

@media (min-width: 1200px) {
    .pals-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

.pal-card {
    position: relative;
    background: #FEFDED;
    border-radius: 20px;
    overflow: visible;
    box-shadow: 0 4px 12px rgba(236, 227, 227, 0.2);
    transition: all 0.3s ease;
    /* Removed cursor: pointer */
    padding-bottom: 0;
    /* Reduced bottom padding */
}

/* Removed .pal-card:hover transform and box-shadow */

.delete-pal-btn {
    position: absolute;
    top: 10px;
    left: 10px;

    width: 32px;
    height: 32px;
    border-radius: 50%;

    display: flex;
    align-items: center;
    justify-content: center;

    border: none;
    background: rgba(255, 255, 255, 0.8);
    color: #e57373;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

    font-size: 16px;
    line-height: 1;

    cursor: pointer;
    z-index: 2;
    transition: all 0.2s;
}

.delete-pal-btn:hover {
    background: #fff;
    color: #d32f2f;
    transform: scale(1.1);
}

.delete-pal-btn:hover {
    background: #ac4949b3;
}


.info-pal-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: none;
    background: rgba(255, 255, 255, 0.8);
    color: #64b5f6;
    cursor: pointer;
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: all 0.2s;
}

.info-pal-btn:hover {
    background: #fff;
    color: #1976d2;
    transform: scale(1.1);
}

.info-pal-btn:hover {
    background: #81acc8;
}

.pal-info-popover {
    position: absolute;
    top: 40px;
    right: 8px;

    width: 300px;
    background: white;
    border-radius: 12px;
    padding: 24px;

    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.18);
    z-index: 5;

    font-size: 0.85rem;
    color: #333;
}

.update-pal-btn {
    margin-top: 10px;
    width: 100%;

    padding: 6px 10px;
    border-radius: 8px;
    border: none;

    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    font-size: 0.85rem;
    font-weight: 600;

    cursor: pointer;
}

.update-pal-btn:hover {
    opacity: 0.9;
}

/* Text layout */
.pal-info-popover strong {
    display: block;
    margin-bottom: 6px;
    font-size: 0.95rem;
}

.popover-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 6px;
}

.popover-description {
    margin: 8px 0;
    color: #555;
    font-size: 0.85rem;
}

/* Trait chips */
.popover-traits {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 6px;
}

.trait-chip {
    background: #f1f3ff;
    color: #4a5bdc;
    padding: 3px 8px;
    border-radius: 999px;
    font-size: 0.75rem;
}

.pal-image {
    width: 100%;
    aspect-ratio: 1;
    overflow: hidden;
    background-color: #fff;
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
}

.pal-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.pal-info {
    padding: 15px 25px 25px 25px;
    /* Reduced vertical padding */
    text-align: center;
}

.pal-info h3 {
    margin: 0 0 8px 0;
    font-size: 1.1rem;
    color: #333;
}

.pal-role {
    margin: 0 0 12px 0;
    font-size: 0.9rem;
    color: #666;
    text-transform: capitalize;
}

.chat-btn {
    padding: 12px 24px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 1rem;
    width: 100%;
}

.chat-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

@media (max-width: 768px) {
    .pals-container {
        padding: 20px 15px;
    }

    .pals-grid {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    .pal-card {
        display: flex;
        flex-direction: row;
        align-items: center;
        padding: 10px;
        min-height: 80px;
        text-align: left;
    }

    .pal-image {
        width: 60px;
        height: 60px;
        min-width: 60px;
        /* prevent shrinking */
        border-radius: 50%;
        /* Circle avatar for list view */
        margin-right: 15px;
        border-top-left-radius: 50%;
        border-top-right-radius: 50%;
    }

    .pal-info {
        padding: 0;
        text-align: left;
        flex: 1;
    }

    .pal-info h3 {
        margin-bottom: 4px;
        font-size: 1.1rem;
    }

    .pal-role {
        margin-bottom: 0;
        font-size: 0.9rem;
    }

    /* Hide the chat button in list view if we want a cleaner list? 
       User said: "Each row should include: Pal avatar, Pal name, Pal role".
       I will hide the chat button to match the spec strictly and avoid clutter. 
       Tapping the card could navigate (needs JS change) OR I can keep a small subtle button.
       Given "don't change backend/func", I should probably keep the button but maybe small icon?
       Let's stick to the spec "Avatar, Name, Role". I'll hide the big chat button for now 
       and rely on the card being clickable if it was... wait, the card isn't clickable by default in JS.
       The chat button is the only navigation. I MUST keep the chat button or make the card clickable.
       Making the card clickable requires JS change. 
       "Do not change backend functionality". JS logic is frontend. 
       I'll keep the chat button but make it compact (icon only maybe?) or just to the right.
    */
    .chat-btn {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        width: auto;
        min-width: 100px;
        padding: 10px 16px;
        font-size: 0.9rem;
        margin: 0;
    }

    .delete-pal-btn,
    .info-pal-btn {
        display: none;
    }

    .pal-info {
        padding-right: 80px;
        /* Space for the absolute chat button */
        text-align: left;
        flex: 1;
    }
}

/* Popover Delete Button */
.delete-pal-btn-popover {
    margin-top: 8px;
    width: 100%;
    padding: 6px 10px;
    border-radius: 8px;
    border: none;
    background: linear-gradient(135deg, #ef5350, #e53935);
    /* Red gradient */
    color: white;
    font-size: 0.85rem;
    font-weight: 600;
    cursor: pointer;
    transition: opacity 0.2s;
}

.delete-pal-btn-popover:hover {
    opacity: 0.9;
}